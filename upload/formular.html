<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dozenten-Upload-Portal (Demo) – Fragen, Checklisten & Datenschutz</title>
<style>
  :root {
    --blue-main: #0b5bb5;     /* inspiriertes Hauptblau */
    --blue-light: #0e7ad3;    /* Akzent/Verlauf */
    --blue-bg: #f6f8fb;       /* sehr helles Blau für Flächen */
    --border: #d8e0eb;
    --text: #0f1720;
    --muted: #5b6673;
    --shadow: 0 2px 6px rgba(0,0,0,.08);
    --radius: 12px;
    --font: system-ui, "Segoe UI", Arial, sans-serif;
  }

  /* Grundlayout */
  body {
    margin: 0;
    font-family: var(--font);
    color: var(--text);
    background: var(--blue-bg);
  }
  header {
    background: linear-gradient(135deg, var(--blue-main), var(--blue-light));
    color: #fff;
    padding: 20px 40px;
    box-shadow: var(--shadow);
  }
  header h1 { margin: 0; font-size: 22px; font-weight: 600; }
  .nav-line {
    height: 4px;
    background: var(--blue-main);
    box-shadow: inset 0 -1px 0 var(--blue-light);
  }
  main {
    max-width: 1000px;
    margin: 40px auto;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 40px;
  }
  section + section { margin-top: 36px; }
  h2 {
    border-left: 4px solid var(--blue-main);
    padding-left: 10px;
    margin-top: 0;
    font-size: 20px;
  }
  .line { border-top: 1px solid var(--border); margin: 24px 0; }

  /* Formelemente */
  label { display:block; font-weight:600; margin-bottom:6px; }
  .hint { font-size:12px; color:var(--muted); margin-top:6px; }
  input[type="text"], input[type="email"], input[type="url"], select, textarea {
    width:100%;
    padding:12px 12px;
    border:1px solid var(--border);
    border-radius:10px;
    font-size:14px;
    background:#fff;
    outline:none;
  }
  textarea { min-height:120px; resize:vertical; }
  input:focus, select:focus, textarea:focus { border-color:var(--blue-main); box-shadow:0 0 0 3px rgba(11,91,181,.15); }

  /* Grid */
  .grid { display:grid; grid-template-columns:repeat(12,1fr); gap:16px; }
  .col-12 { grid-column:span 12; }
  .col-6  { grid-column:span 6; }
  .col-4  { grid-column:span 4; }
  .col-8  { grid-column:span 8; }
  @media (max-width: 900px) { .col-6, .col-4, .col-8 { grid-column:span 12; } }

  /* Karten */
  .card {
    border:1px solid var(--border);
    border-radius:var(--radius);
    background:#fff;
    box-shadow: var(--shadow);
    padding:22px;
  }
  .card h3 {
    margin:0 0 12px 0;
    font-size:16px;
    border-left: 3px solid var(--blue-light);
    padding-left:10px;
  }

  /* Checklisten */
  .checklist { display:grid; gap:10px; margin-top:8px; }
  .checklist label { display:flex; gap:10px; font-weight:500; cursor:pointer; }
  .checklist input[type="checkbox"] { transform:translateY(2px); }

  /* Details (aufklappbar) */
  details {
    border:1px solid var(--border);
    border-radius:10px;
    padding:12px 14px;
    background:#fbfdff;
  }
  details summary { cursor:pointer; font-weight:600; color: var(--blue-main); }
  details[open] { background:#f3f8ff; }

  /* Buttons */
  .actions { display:flex; gap:12px; justify-content:flex-end; margin-top:24px; }
  button {
    background: linear-gradient(135deg, var(--blue-main), var(--blue-light));
    color: #fff;
    border: none;
    padding: 12px 20px;
    border-radius: var(--radius);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow);
  }
  button:hover { background: var(--blue-light); }
  .btn-secondary {
    background:#fff; color:var(--blue-main);
    border:1px solid var(--blue-main);
  }
  button:disabled { opacity:.6; cursor:not-allowed; }

  footer {
    max-width:1000px; margin:20px auto 40px;
    text-align: center; color: var(--muted); font-size: 13px;
  }

  /* Mini-Info-Badges */
  .badge {
    display:inline-block; font-size:12px; color:var(--muted);
    border:1px solid var(--border); padding:4px 8px; border-radius:999px;
    background:#f7faff;
  }
</style>
</head>
<body>
  <header>
    <h1>Dozenten-Upload-Portal (Demo)</h1>
  </header>
  <div class="nav-line"></div>

  <main>
    <!-- FRAGEN -->
    <section id="fragen">
      <h2>Fragen zum Inhalt</h2>
      <div class="grid">
        <div class="col-6">
          <label for="titel">Arbeitstitel *</label>
          <input id="titel" name="titel" type="text" placeholder="z. B. Sozialrecht – Mutterschutz kompakt" required />
          <div class="hint">Klarer, kurzer Titel</div>
        </div>
        <div class="col-6">
          <label for="zielgruppe">Zielgruppe *</label>
          <input id="zielgruppe" name="zielgruppe" type="text" placeholder="z. B. Ausbilder, AEVO, Bilanzbuchhalter" required />
          <div class="hint">Wer soll es nutzen?</div>
        </div>

        <div class="col-12">
          <label for="kurzbeschreibung">Kurzbeschreibung (max. 3 Sätze) *</label>
          <textarea id="kurzbeschreibung" name="kurzbeschreibung" placeholder="Worum geht es, welches Problem löst der Inhalt?"></textarea>
        </div>

        <div class="col-12">
          <label for="lernergebnisse">Lernergebnisse (Bulletpoints, je 1 Zeile) *</label>
          <textarea id="lernergebnisse" name="lernergebnisse" placeholder="- Kann Mutterschutzfristen benennen
- Unterscheidet U1/U2-System
- Kennt Anspruchsvoraussetzungen …"></textarea>
        </div>

        <div class="col-12">
          <label for="inhalt">Inhalt / Stichworte *</label>
          <textarea id="inhalt" name="inhalt" placeholder="Stichworte oder kurzer Fließtext, der dem Bot hilft zu verstehen …"></textarea>
        </div>

        <div class="col-6">
          <label for="metatags">Schlagworte (Kommagetrennt)</label>
          <input id="metatags" name="metatags" type="text" placeholder="z. B. Mutterschutz, U2, Sozialrecht, AEVO" />
        </div>
        <div class="col-6">
          <label for="quelle">Quellen/Referenzen (optional)</label>
          <input id="quelle" name="quelle" type="text" placeholder="z. B. § 3 MuSchG; BSG, Urteil …; Link" />
        </div>
      </div>
      <div class="line"></div>

      <div class="grid">
        <div class="col-12 card">
          <h3>Didaktischer Einsatz</h3>
          <div class="grid">
            <div class="col-6">
              <label for="einsatzform">Einsatzform</label>
              <select id="einsatzform" name="einsatzform">
                <option value="">– bitte wählen –</option>
                <option>Quiz (MC/SC)</option>
                <option>FAQ</option>
                <option>Fallbeispiel</option>
                <option>Kurzskript</option>
                <option>Checkliste</option>
              </select>
            </div>
            <div class="col-6">
              <label for="umfang">Umfang</label>
              <select id="umfang" name="umfang">
                <option value="">– bitte wählen –</option>
                <option>kurz (≤ 1 Seite)</option>
                <option>mittel (2–4 Seiten)</option>
                <option>ausführlich (≥ 5 Seiten)</option>
              </select>
            </div>
            <div class="col-12">
              <label for="hinweise">Besondere Hinweise (Stil, Ton, Grenzen)</label>
              <textarea id="hinweise" name="hinweise" placeholder="z. B. neutral, juristisch sauber, ohne Tendenzen …"></textarea>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CHECKLISTEN -->
    <section id="checklisten">
      <h2>Checklisten</h2>

      <div class="grid">
        <div class="col-12 card">
          <h3>Inhalts- & Qualitätscheck</h3>
          <div class="checklist">
            <label><input type="checkbox" id="cl-aktuell"> Inhalt ist aktuell (Rechtsstand, Datum geprüft)</label>
            <label><input type="checkbox" id="cl-quellen"> Quellen/Paragraphen sind, falls nötig, angegeben</label>
            <label><input type="checkbox" id="cl-struktur"> Struktur ist klar (Überschriften, Bulletpoints)</label>
            <label><input type="checkbox" id="cl-neutral"> Neutrale, sachliche Formulierungen</label>
            <label><input type="checkbox" id="cl-barriere"> Verständliche Sprache (barrierearm, keine Fachjargon-Überlast)</label>
          </div>
        </div>

        <div class="col-12 card">
          <h3>Recht & Nutzung</h3>
          <div class="checklist">
            <label><input type="checkbox" id="cl-urheber"> Ich besitze die Rechte oder die Nutzung ist gestattet</label>
            <label><input type="checkbox" id="cl-pii"> Keine personenbezogenen Daten enthalten</label>
            <label><input type="checkbox" id="cl-lizenzen"> Lizenzen von Bildern/Grafiken sind geklärt</label>
            <label><input type="checkbox" id="cl-ki"> KI-Einsatz (falls genutzt) ist gekennzeichnet</label>
          </div>
        </div>
      </div>
    </section>

    <!-- DATENSCHUTZ -->
    <section id="datenschutz">
      <h2>Datenschutzhinweise</h2>

      <div class="card">
        <p class="badge">Kurzüberblick</p>
        <ul>
          <li><strong>Zweck:</strong> Einreichung von Lehrinhalten zur Verarbeitung in Bots/Assistenzsystemen.</li>
          <li><strong>Rechtsgrundlage:</strong> Art. 6 Abs. 1 lit. b DSGVO (Erfüllung eines Vertrags) und/oder lit. f (berechtigte Interessen, effiziente Lehrorganisation).</li>
          <li><strong>Datenarten:</strong> Kontakt- und Inhaltsdaten (Titel, Beschreibung, Dateien, Metadaten).</li>
          <li><strong>Speicherung:</strong> lokal (Browser) zur Entwurfsarbeit; serverseitig nach Übermittlung (z. B. SharePoint/Make-Workflow).</li>
          <li><strong>Empfänger:</strong> Interne Systeme; optional Auftragsverarbeiter (z. B. Automationsplattformen).</li>
          <li><strong>Ihre Rechte:</strong> Auskunft, Berichtigung, Löschung, Einschränkung, Widerspruch, Datenübertragbarkeit (Art. 15–21 DSGVO).</li>
        </ul>

        <details>
          <summary>Vollständige Hinweise anzeigen</summary>
          <div class="line"></div>
          <p><strong>Verantwortlicher:</strong> Betreiber dieses Portals (Kontakt siehe Impressum/Kontaktseite).</p>
          <p><strong>Empfänger & Übermittlungen:</strong> Sofern zur Zweckerfüllung erforderlich, werden Daten an beauftragte Dienstleister (Auftragsverarbeiter) übermittelt. Eine Drittlandübermittlung erfolgt nur bei Vorliegen geeigneter Garantien (Art. 44 ff. DSGVO).</p>
          <p><strong>Speicherdauer:</strong> Bis Zweckerfüllung bzw. gesetzlicher Aufbewahrung; Entwürfe lokal bis zur manuellen Löschung.</p>
          <p><strong>Pflichtangaben:</strong> Gekennzeichnete Felder sind erforderlich, um die Einreichung zu bearbeiten.</p>
          <p><strong>Widerruf/Einwilligung:</strong> Soweit eine Einwilligung die Grundlage ist, kann diese jederzeit mit Wirkung für die Zukunft widerrufen werden.</p>
          <p><strong>Beschwerderecht:</strong> Sie haben das Recht, sich bei einer Aufsichtsbehörde zu beschweren (Art. 77 DSGVO).</p>
          <p class="hint">Dieser Text ist ein Muster und ersetzt keine Rechtsberatung.</p>
        </details>

        <div class="line"></div>
        <label style="display:flex; gap:10px; align-items:flex-start;">
          <input type="checkbox" id="consent" />
          <span>Ich habe die Datenschutzhinweise gelesen und bin mit der Verarbeitung der oben genannten Daten zum genannten Zweck einverstanden.</span>
        </label>
      </div>
    </section>

    <!-- Aktionen -->
    <div class="actions">
      <button type="button" class="btn-secondary" id="btn-save">Speichern (lokal)</button>
      <button type="button" class="btn-secondary" id="btn-clear">Zurücksetzen</button>
      <button type="button" id="btn-send" disabled>Prüfen & Senden</button>
    </div>
  </main>

  <footer>© 2025 Dozenten-Upload-Portal (Demo) • rein privat • Blau-/Linien-Stil</footer>

<script>
  // ------- Helper: Feldliste für LocalStorage -------
  const FIELDS = [
    "titel","zielgruppe","kurzbeschreibung","lernergebnisse","inhalt","metatags",
    "quelle","einsatzform","umfang","hinweise",
    "cl-aktuell","cl-quellen","cl-struktur","cl-neutral","cl-barriere",
    "cl-urheber","cl-pii","cl-lizenzen","cl-ki","consent"
  ];
  const KEY = "dozenten_portal_demo_v1";

  function byId(id){ return document.getElementById(id); }

  // ------- State laden -------
  function loadState(){
    try{
      const raw = localStorage.getItem(KEY);
      if(!raw) return;
      const data = JSON.parse(raw);
      FIELDS.forEach(id=>{
        const el = byId(id);
        if(!el) return;
        if(el.type === "checkbox"){
          el.checked = !!data[id];
        } else {
          el.value = data[id] ?? "";
        }
      });
      updateSendButton();
    }catch(e){ console.warn("Load failed", e); }
  }

  // ------- State speichern -------
  function saveState(){
    const data = {};
    FIELDS.forEach(id=>{
      const el = byId(id);
      if(!el) return;
      data[id] = (el.type === "checkbox") ? el.checked : el.value;
    });
    localStorage.setItem(KEY, JSON.stringify(data));
    toast("Entwurf lokal gespeichert.");
  }

  // ------- State löschen -------
  function clearState(){
    localStorage.removeItem(KEY);
    FIELDS.forEach(id=>{
      const el = byId(id);
      if(!el) return;
      if(el.type === "checkbox"){
        el.checked = false;
      } else {
        el.value = "";
      }
    });
    updateSendButton();
    toast("Entwurf zurückgesetzt.");
  }

  // ------- Validierung & Buttons -------
  function isFilled(id){ const v = byId(id).value.trim(); return v.length>0; }
  function updateSendButton(){
    const requiredOk =
      isFilled("titel") &&
      isFilled("zielgruppe") &&
      isFilled("kurzbeschreibung") &&
      isFilled("lernergebnisse") &&
      isFilled("inhalt");
    const consentOk = byId("consent").checked;
    byId("btn-send").disabled = !(requiredOk && consentOk);
  }

  ["titel","zielgruppe","kurzbeschreibung","lernergebnisse","inhalt","consent"].forEach(id=>{
    const el = byId(id);
    el.addEventListener(el.type === "checkbox" ? "change" : "input", updateSendButton);
  });

  // ------- Pseudo-Senden (hier nur JSON anzeigen) -------
  function collectData(){
    const data = {};
    FIELDS.forEach(id=>{
      const el = byId(id);
      if(!el) return;
      data[id] = (el.type === "checkbox") ? el.checked : el.value.trim();
    });
    data["_timestamp"] = new Date().toISOString();
    return data;
  }

  function pseudoSend(){
    // TODO: Hier später Webhook/SharePoint integrieren:
    // fetch('<WEBHOOK_URL>', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(collectData()) })
    const data = collectData();
    console.log("SEND:", data);
    saveState(); // sicherheitshalber
    toast("Formulardaten geprüft. Webhook/SharePoint-Anbindung kann hier ergänzt werden.");
    alert("Vorschau der zu sendenden Daten:\n\n" + JSON.stringify(data, null, 2));
  }

  // ------- Toast -------
  let toastTimer = null;
  function toast(msg){
    let t = document.querySelector(".toast");
    if(!t){
      t = document.createElement("div");
      t.className = "toast";
      t.style.position="fixed";
      t.style.right="16px";
      t.style.bottom="16px";
      t.style.background="#111";
      t.style.color="#fff";
      t.style.padding="12px 14px";
      t.style.borderRadius="12px";
      t.style.boxShadow="0 2px 10px rgba(0,0,0,.2)";
      t.style.maxWidth="360px";
      t.style.zIndex="9999";
      document.body.appendChild(t);
    }
    t.textContent = msg;
    t.style.opacity="1";
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=>{ t.style.opacity="0"; }, 2200);
  }

  // ------- Bindings & Init -------
  byId("btn-save").addEventListener("click", saveState);
  byId("btn-clear").addEventListener("click", clearState);
  byId("btn-send").addEventListener("click", pseudoSend);
  loadState();
</script>
</body>
</html>