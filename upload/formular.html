<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Upload · KI-Projekte</title>
<meta name="color-scheme" content="light dark">
<style>
  /* ========= BBVA-ähnliche Farbwelt ========= */
  :root{
    --bbva-navy:#072146;      /* Primär */
    --bbva-blue:#1973b8;      /* CTAs/Focus */
    --bbva-cyan:#5bc2e7;      /* Akzent */
    --bbva-ink:#0b1720;       /* Text (light) */
    --bbva-muted:#607083;     /* Sekundärtext */
    --bbva-bg:#f4f7fb;        /* Hintergrund (light) */
    --bbva-panel:#ffffff;     /* Karten */
    --bbva-border:#e5ebf2;    /* Linien/Trennungen */
  }
  @media (prefers-color-scheme:dark){
    :root{
      --bbva-navy:#0b2440; --bbva-blue:#2b8bd4; --bbva-cyan:#78d7f2;
      --bbva-ink:#e8eef6; --bbva-muted:#a9b5c3; --bbva-bg:#071320; --bbva-panel:#0c1b2d; --bbva-border:#1c2b44;
    }
  }

  /* ========= Layout / Typo ========= */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:
      radial-gradient(1200px 800px at 0% -10%, rgba(25,115,184,.18), transparent 60%),
      radial-gradient(900px 600px at 120% 10%, rgba(7,33,70,.22), transparent 55%),
      var(--bbva-bg);
    color:var(--bbva-ink);
    font:16px/1.5 "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  }

  .shell{max-width:980px; margin-inline:auto; padding:28px}
  header.app{
    display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:18px;
  }
  .brand{
    display:flex; align-items:center; gap:12px; color:var(--bbva-navy); font-weight:800; letter-spacing:.2px;
  }
  .brand .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(135deg,var(--bbva-blue),var(--bbva-cyan))}
  .chipTip{
    color:var(--bbva-muted); font-size:13px; border:1px solid var(--bbva-border);
    border-radius:999px; padding:6px 10px;
  }

  .card{
    background:var(--bbva-panel);
    border:1px solid var(--bbva-border);
    border-radius:20px;
    padding:26px 24px;
    box-shadow:0 10px 40px rgba(7,33,70,.08);
  }

  h1{font-size:28px;margin:0 0 6px;color:var(--bbva-navy); letter-spacing:.2px}
  .lede{margin:0 0 18px;color:var(--bbva-muted)}

  /* ========= Allianz-artige Linienfelder ========= */
  .row{display:grid; gap:22px}
  @media(min-width:760px){ .row.cols-2{ grid-template-columns:1fr 1fr } }

  .field{position:relative}
  .label{font-weight:700; font-size:14px; color:var(--bbva-muted); margin-bottom:8px}
  .line{
    width:100%; background:transparent; border:0; border-bottom:2px solid var(--bbva-border);
    padding:10px 2px; font-size:18px; color:inherit; outline:none; transition:border-color .2s, box-shadow .2s;
  }
  .line:focus{
    border-bottom-color:var(--bbva-blue);
    box-shadow:0 3px 0 -1px var(--bbva-blue);
  }
  select.line{padding-left:0; appearance:none; background-image:linear-gradient(45deg, transparent 50%, var(--bbva-muted) 50%),linear-gradient(135deg, var(--bbva-muted) 50%, transparent 50%);
    background-position: right 10px top 55%, right 4px top 55%; background-size: 7px 7px, 7px 7px; background-repeat: no-repeat;}

  textarea.line{min-height:110px; resize:vertical; border:1px solid var(--bbva-border); border-radius:12px; padding:12px; }
  textarea.line:focus{border-color:var(--bbva-blue); box-shadow:0 0 0 3px rgba(25,115,184,.18)}

  /* ========= Upload Fläche (Single) ========= */
  .drop{
    border:2px dashed var(--bbva-border);
    border-radius:14px; padding:22px; text-align:center; background:#f8fbff; cursor:pointer;
    transition: border-color .2s, background .2s;
  }
  .drop:hover{ border-color:var(--bbva-blue); background:#eef6ff }
  #file{display:none}
  .picked{margin-top:10px; color:var(--bbva-muted); font-size:14px}

  /* ========= Buttons ========= */
  .actions{display:flex; gap:12px; flex-wrap:wrap; margin-top:20px}
  .btn{
    appearance:none; border-radius:12px; padding:12px 18px; font-weight:800; letter-spacing:.2px; cursor:pointer;
    border:1px solid var(--bbva-border); background:#fff; color:var(--bbva-navy);
    transition:transform .06s ease, box-shadow .2s, background .2s, border-color .2s;
  }
  .btn:hover{box-shadow:0 6px 16px rgba(7,33,70,.12)}
  .btn:active{transform:translateY(1px)}
  .primary{background:linear-gradient(135deg,var(--bbva-blue), var(--bbva-cyan)); color:#fff; border-color:transparent}
  .ghost{background:#fff}

  .note,.err{display:none; margin-top:12px; padding:12px; border-radius:12px; font-weight:600}
  .note{background:#e8f7ef; color:#0b5b3f; border:1px solid #bfead1}
  .err{background:#fcebec; color:#7f1d1d; border:1px solid #f7c2c5}

  /* ========= Overlay (ein Datei-Hinweis) ========= */
  .overlay{position:fixed; inset:0; background:rgba(7,33,70,.52); display:flex; align-items:center; justify-content:center; z-index:50}
  .ov-card{width:min(680px, 92vw); background:var(--bbva-panel); color:var(--bbva-ink); border:1px solid var(--bbva-border);
    border-radius:18px; padding:24px}
  .ov-card h2{margin:0 0 6px; color:var(--bbva-navy)}
  .ov-card p{margin:8px 0; color:var(--bbva-ink)}
  .ov-cta{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}
</style>
</head>
<body>
  <div class="shell">
    <header class="app">
      <div class="brand"><span class="dot"></span><span>KI-Projekte · Upload</span></div>
      <span class="chipTip">Sicher · OneDrive · SharePoint</span>
    </header>

    <section class="card">
      <h1>Unterlagen hochladen</h1>
      <p class="lede">Modernes Upload-Formular im BBVA-Stil. Pro Vorgang genau <strong>eine Datei</strong>. Bei mehreren Dateien kannst du die nächste direkt im Anschluss senden – die Felder bleiben erhalten.</p>

      <!-- verstecktes Ziel: kein Reload, Felder bleiben -->
      <iframe name="silentTarget" style="display:none"></iframe>

      <form id="form" action="https://hook.us2.make.com/qlecolu10q72phwu7i8ksnvcypx67qe4" method="POST" enctype="multipart/form-data" target="silentTarget" novalidate>
        <div class="row cols-2">
          <div class="field">
            <div class="label">Vorname *</div>
            <input class="line" type="text" id="vorname" name="vorname" required autocomplete="given-name">
          </div>
          <div class="field">
            <div class="label">Nachname *</div>
            <input class="line" type="text" id="nachname" name="nachname" required autocomplete="family-name">
          </div>
        </div>

        <div class="field">
          <div class="label">E-Mail-Adresse *</div>
          <input class="line" type="email" id="email" name="email" required placeholder="name@beispiel.de" inputmode="email">
        </div>

        <div class="row cols-2">
          <div class="field">
            <div class="label">Kurs *</div>
            <select class="line" id="kurs" name="kurs" required>
              <option value="" disabled selected>Bitte auswählen …</option>
              <option>PFK</option>
              <option>Wirtschaftsfachwirte</option>
              <option>Bilanzbuchhalter</option>
              <option>Ausbildereignung</option>
              <option>Bachelor Prof. Versicherung und Finanzanlagen</option>
              <option>Sonstige</option>
            </select>
          </div>
          <div class="field">
            <div class="label">Fachrichtung *</div>
            <select class="line" id="fachrichtung" name="fachrichtung" required>
              <option value="" disabled selected>Bitte auswählen …</option>
              <option>Personal</option><option>Ausbildung</option><option>Volkswirtschaft</option>
              <option>Betriebswirtschaft</option><option>Recht</option><option>Kommunikation</option><option>Sonstige</option>
            </select>
          </div>
        </div>

        <div class="field">
          <div class="label">Beschreibung / Hinweise (optional)</div>
          <textarea class="line" id="beschreibung" name="beschreibung" placeholder="Kurzbeschreibung, Kontext, Version …"></textarea>
        </div>

        <div class="field">
          <div class="label">Rechtliche Bestätigung *</div>
          <label style="display:flex; gap:10px; align-items:flex-start">
            <input type="checkbox" id="consent" name="consent" value="yes" required>
            <span>Ich bestätige, dass die von mir hochgeladenen Dateien keine Urheber-, Marken- oder Persönlichkeitsrechte Dritter verletzen, ich zur Nutzung berechtigt bin und die gesetzlichen Vorgaben (u. a. Urheberrecht, DSGVO) beachte.</span>
          </label>
        </div>

        <!-- Einzeldatei -->
        <div class="field">
          <div class="label">Datei (max. 25 MB) *</div>
          <div id="drop" class="drop" role="button" tabindex="0" aria-label="Datei auswählen">
            <strong>Hier klicken, um eine Datei zu wählen</strong><br>
            <span style="color:var(--bbva-muted); font-size:14px">Erlaubt: PDF, DOCX, PPTX, XLSX, JPG/PNG, HTML</span>
            <input id="file" name="file" type="file" accept=".pdf,.docx,.pptx,.xlsx,.jpg,.jpeg,.png,.html,.htm" required>
          </div>
          <div id="picked" class="picked" aria-live="polite"></div>
        </div>

        <!-- Routing/Meta -->
        <input type="hidden" name="intent" value="create_list_entry_and_upload_single">
        <input type="hidden" name="source" value="Upload-Form BBVA x Allianz">
        <input type="hidden" id="ts" name="timestamp">

        <div class="actions">
          <button type="button" class="btn ghost" id="clearBtn">Neue Datei wählen</button>
          <button class="btn primary" id="sendBtn">Senden</button>
        </div>

        <div id="ok" class="note">✅ Upload gestartet. Für weitere Dateien wähle einfach die nächste aus – deine Angaben bleiben erhalten.</div>
        <div id="err" class="err">❌ Bitte Pflichtfelder prüfen und eine Datei wählen (max. 25 MB).</div>
      </form>
    </section>
  </div>

  <!-- Overlay: Ein-Datei-Hinweis -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true">
    <div class="ov-card">
      <h2>Ein Upload pro Vorgang</h2>
      <p>Du kannst <strong>genau eine Datei</strong> pro Vorgang hochladen. Wenn du mehrere Dateien hast, sende sie bitte <strong>nacheinander</strong>. Deine Angaben bleiben nach dem Senden erhalten.</p>
      <div class="ov-cta">
        <button id="ovClose" class="btn primary">Verstanden</button>
      </div>
    </div>
  </div>

<script>
  // Overlay
  const ov = document.getElementById('overlay');
  document.getElementById('ovClose').addEventListener('click', ()=>{ ov.style.display='none'; document.getElementById('vorname').focus(); });

  // Timestamp
  document.getElementById('ts').value = new Date().toISOString();

  // Single-file UX
  const drop = document.getElementById('drop');
  const fileInput = document.getElementById('file');
  const picked = document.getElementById('picked');
  const clearBtn = document.getElementById('clearBtn');
  const MAX_MB = 25;

  drop.addEventListener('click', ()=> fileInput.click());
  fileInput.addEventListener('change', ()=>{
    const f = fileInput.files?.[0];
    picked.textContent = f ? `Ausgewählt: ${f.name} · ${(f.size/1024/1024).toFixed(2)} MB` : '';
  });
  clearBtn.addEventListener('click', ()=>{ fileInput.value=''; picked.textContent=''; });

  // Submit ohne Reload (hidden iframe)
  const form = document.getElementById('form');
  const ok = document.getElementById('ok');
  const err = document.getElementById('err');

  form.addEventListener('submit', (e)=>{
    err.style.display='none';
    // einfache Checks
    if(!form.checkValidity()){ e.preventDefault(); err.style.display='block'; return; }
    const f = fileInput.files?.[0];
    if(!f){ e.preventDefault(); err.style.display='block'; return; }
    if(f.size > MAX_MB*1024*1024){ e.preventDefault(); err.textContent = `❌ Datei größer als ${MAX_MB} MB.`; err.style.display='block'; return; }
    ok.style.display='block'; setTimeout(()=> ok.style.display='none', 3000);
  });
</script>
</body>
</html>
